参考书籍：<数字图像处理-冈萨雷斯>

这里所列内容仅是大纲，有些符号并未说明其物理意义，有疑惑时请借助书本来理解

目前只包含要考试的内容，后续将会加上其他部分的内容

$\spadesuit​$标记的地方为重点内容

消除噪声的空间滤波部分、共生矩阵描绘子部分公式太多，暂时没有写上去

------



- **一、数字图像处理基础**

  - 图像形成模型
    - 入射分量，反射分量（透射系数）$f(x,y) = i(x,y)r(x,y)$ （取值范围）
  - 取样与量化
    - 取样，量化，灰度级，动态范围，对比度，空间分辨率（2044 dpi），灰度分辨率
    - 内插 $\spadesuit​$
      - 最近邻内插
      - 双线性内插 $v(x,y) = ax+by+cxy+d$
      - 双三次内插 $v(x,y)= \sum_{i=1}^3\sum_{j=0}^3a_{ij}x^iy^j$ 
      - 样条，小波
  - 像素间的关系
    - 邻接性（4,8,m），连通性（连通分量，连通集），区域（邻接区域，前景，背景），边界（内边界，外边界-闭合通路）
    - 距离度量：欧式距离，城市街区距离，棋盘距离
  - 数学工具
    - 阵列与矩阵操作：阵列操作（默认）与矩阵操作
      - 平均-降噪（空间上与时间上）
      - 相减-增强差别
      - 相除/相乘-校正阴影
    - 线性与非线性操作
    - 集合与逻辑操作
    - 空间操作
      - 单像素操作 $s=T(z)$
      - 领域操作 $S_{xy}$
      - 空间变换 $\spadesuit$
        - 仿射变换 $(x,y)=T{(v,w)}​$ T为3x3矩阵
          - 前向映射
          - 反向映射（常用）
        - 图像配准 $x=a_1v+b_1w+c_1vw+d_1$ $y=a_2v+b_2w+c_2vw+d_2$
    - 向量与矩阵操作
    - 图像变换：时域-频域
    - 概率方法

- **二、灰度变换与空间滤波**
  - 灰度变换函数
    - 图像反转 $s=L-1-r$
    - 对数变换 $s=clog(1+r)​$ $c=const,r\geq0​$ 
      - 扩展低灰度级的值，压缩高灰度级的值
      - 标定傅里叶频谱图像
    - 幂律（伽马）变换 $s=cr^\gamma$ $c,\gamma=const>0$
      - 既可以扩展暗值（处理整体偏暗的图像）也可以扩展亮值（处理整体偏亮的图像）
      - 伽马校正：图像获取、打印和显示的各种设备根据幂律产生响应 $\gamma_2=\frac{1}{\gamma_1}$
    - 分段线性变换函数
      - 对比度拉伸->阈值处理函数（二值图像）
      - 灰度级分层
      - 比特平面分层
  - 直方图处理 
    - PDF-概率密度函数	CDF-累积分布函数
    - 直方图均衡 $s=T(r)\ \ 0\leq{r}\leq{L-1}$  所谓均衡：$p_r(s)=\frac{1}{L-1}\  {0}\leq{s}\leq{L-1}$ ($p_r(s)=p_r(r)|\frac{dr}{ds}|$) $\spadesuit$
      - 连续：$s=T(r)=(L-1)\int_{0}^{r}p_r(w)dw​$
      - 离散：$s_k=T(r_k)=(L-1)\sum_{j=0}^{k}p_r(r_j)=\frac{L-1}{MN}\sum_{j=0}^kn_j$ 再取整
      - 自适应对比度增强
    - 直方图匹配（规定化）$\spadesuit$
      - 查表法
      - 过程
        - 对输入图像计算直方图均衡变换并取整（四舍五入）	r->s的映射
        - 对给定直方图计算均衡变换并取整（四舍五入）并存到一个表中   z->s的映射
        - 将上述两个映射合并（当s->z映射不唯一时取最小，没有时取最近）   r->的映射
      - 直方图规定化在大多数时候都是试凑的过程，对任何一个给定的增强任务都必须借助于实际分析来确定直方图的规则
    - 局部直方图处理
      - 在 $S_{xy}$ 邻域中进行直方图均衡或规定化
      - 消除棋盘效应
    - 在图像增强中使用直方图统计
      - $r$ 关于其均值的 $n$ 阶矩定义：  $\mu_n(r)=\sum_{i=0}^{L-1}(r_i-m)^np(r_i)$   $m=\sum_{i=0}^{L-1}r_ip(r_i)$
      - 取样均值：$m=\frac{1}{MN}\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}f(x,y)$   取样方差：$\sigma^2=\frac{1}{MN}\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}(f(x,y)-m)^2$
      - $S_{xy}$ 可以定义局部均值和局部方差 -> 局部增强 
  - 空间滤波
    - 基础

      - 相关与卷积
      - 滤波器模板
        - 高斯函数	$h(x,y)=e^{-\frac{x^2+y^2}{2\sigma^2}}$

    - 平滑空间滤波器 $\spadesuit​$

      - 线性滤波器
        - 盒状滤波器与非盒状滤波器
        - $g(x,y)=\frac{\sum_{s=-a}^a\sum_{t=-b}^bw(s,t)f(x+s,y+t)}{\sum_{s=-a}^a\sum_{t=-b}^bw(s,t)}$
      - 非线性(统计排序)滤波器
        - 最大/小值滤波器，中值滤波器（椒盐噪声）

    - 锐化空间滤波器 $\spadesuit$

      - 基础

        - 一阶微分：$\frac{\partial f}{\partial x}=f(x+1)-f(x)$
        - 二阶微分：$\frac{\partial^2 f}{\partial x^2}=f(x+1)+f(x-1)-2f(x)$
        - 二阶微分在增强细节方面比一阶微分好得多

      - 拉普拉斯算子

        - $\nabla^2 f(x,y)=f(x+1,y)+f(x-1,y)+f(x,y+1)+f(x,y-1)-4f(x,y)$ 

        -  滤波器模板

          ​	$\left[\begin{matrix}0&1&0\\1&-4&1\\0&1&0\\\end{matrix}\right] $$\left[\begin{matrix}1 & 1 & 1 \\ 1& -8 & 1 \\1 & 1 & 1\end{matrix}\right] $  $\left[\begin{matrix}0&-1&0\\-1&4&-1\\0&-1&0\\\end{matrix}\right]$$\left[\begin{matrix}-1&-1&-1 \\-1&8&-1\\-1&-1&-1\end{matrix}\right]$ 

        - $g(x,y)=f(x,y)+c(\nabla^2f(x,y))\  c=-1/1$
        - 拉普拉斯滤波后的图像的标定

      - 非锐化掩蔽与高提升滤波

        - $g(x,y)=f(x,y)+k*g_mask(x,y)=f(x,y)+k*(f(x,y)-\overline{f(x,y)})​$
        - k=1---非锐化掩蔽	k>1---高提升滤波

      - 梯度（一阶微分）

        - $M(x,y)=mag(\nabla f)=\sqrt{g_x^2+g_y^2}\approx|g_x|+|g_y|$ 没有各向同性
        - Roberts算子
        - Sobel算子
        - 模板的系数之和为0以保证在灰度恒定区域响应为0

- **三、频率域滤波**

  - 基础
    - 单变量
      - 连续：$F(\mu)=\int_{-\infty}^\infty f(t)e^{-j2\pi\mu t}dt$, $f(t)=\int_{-\infty}^\infty F(\mu)e^{j2\pi\mu t}d\mu$    	$w=2\pi\mu$
      - 离散：$F(u)=\sum_{x=0}^{M-1}f(x)e^{-j2\pi ux/M}​$ , $f(x)=\frac{1}{M}\sum_{u=0}^{M-1}F(u)e^{j2\pi ux/M}​$ 
    - 二维变量 $\spadesuit$
      - 连续：$F(\mu,v)=\int_{-\infty}^\infty\int_{-\infty}^\infty f(t,z)e^{-j2\pi(\mu t+vz)}dtdz$, $f(t)=\int_{-\infty}^\infty \int_{-\infty}^\infty F(\mu,v)e^{j2\pi(\mu t+vz)}d\mu dv$  
      - 离散：$F(u,v)=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}f(x,y)e^{-j2\pi (ux/M+vy/N)}$ , $f(x,y)=\frac{1}{MN}\sum_{u=0}^{M-1}\sum_{v=0}^{N-1}F(u,v)e^{j2\pi (ux/M+vy/N)}$
    - 空间混淆与时间混淆，过取样与欠取样，莫尔（波纹）模式
    - 二维离散傅里叶变换的性质 $\spadesuit$
      - $f(x,y)(-1)^{(x+y)}\Leftrightarrow F(u-M/2,v-N/2)$
      - $F(u,v)=|F(u,v)|e^{j\phi (u,v)}​$        其中：
        - $|F(u,v)|$ 表示傅里叶谱（频谱），$\phi (u,v)=arctan\frac{I}{R}$ 表示相角
        - $P(u,v)=|F(u,v)|^2$ 表示功率谱，$|F(0,0)|=MN|\overline{f}(x,y)|$ 称为直流(dc)分量------对数变换以标定 $1+log|F(u,v)|$
        - 谱对图像的平移不敏感，随图像旋转而以相同的角度旋转
      - 卷积
        - $f(x,y)\star h(x,y)=\sum_{m=0}^{M-1}\sum_{n=0}^{N-1}f(m,n)h(x-m,y-n)$
        - 周期的靠近导致缠绕错误-----零填充
          - $P\geq A+C-1$ , $Q\geq B+D-1$ 
          - P，Q最好选择满足上述条件的最小偶整数
  - 空间滤波与频域滤波的关系
    - 高斯函数（互易性）
    - 在频率域通过实验选择了一个特定的滤波器，它的实际实现常常实在空间域完成的
  - 频率域滤波基础
    - 振铃现象：任何实现0填充的滤波器的空间截断将引入不连续性，通常在频域表现为振铃现象
    - 步骤 $\spadesuit$
      - 给定$M\times N$输入图像$f(x,y)$ ，选择$P=2M,Q=2N$
      - 零填充得到$f_p(x,y)​$
      - $F(u,v)=\Im ((-1)^{x+y}f_p(x,y)) $
      - $G(u,v)=H(u,v)F(u,v)$, $H(u,v)$ 大小为$M\times N$, 中心在$(P/2,Q/2)$ 处的实对称滤波函数
      - $g_p(x,y)=(real(\Im^{-1}(G(u,v))))(-1)^{x+y}$ 取实部是为了忽略计算不准确导致的寄生复分量
      - 从$g_p(x,y)$ 的左上象限提取$M\times N$ 区域得到最终结果$g(x,y)$
  - 平滑图像 $\spadesuit$
    - 理想低通滤波器（ILPF）
      - $H(u,v)=\begin{cases}1, & D(u,v)\leq D_0 \\ 0, & D(u,v)>D_0 \end{cases}$
      - 有振铃，截止频率半径越大，越不明显
    - 布特沃斯低通滤波器（BLPF）
      - $H(u,v)=\frac{1}{1+(D(u,v)/D_0)^{2n}}$ 
      - 一阶没有可见的振铃现象，二阶很难察觉，更高阶会很明显
    - 高斯低通滤波器（GLPF）
      - $H(u,v)=e^{-\frac{D^2(u,v)}{2D_0^2}}$
      - 没有振铃，适用于医学成像等任何人工缺陷都不可接受的情况
    - $sinc$函数的中心波瓣是引起模糊的主因，外侧较小的波瓣是造成振铃的主因(ILPF:函数展开度与半径成反比，半径越大，越趋近于冲激)
  - 锐化图像 $\spadesuit$
    - IHPF
    - BHPF
    - GHPF
    - 拉普拉斯算子
      - $H(u,v)=-4\pi^2D^2(u,v)$
      - $g(x,y)=f(x,y)+c\nabla^2f(x,y)\quad c=-1$
      - 标定
    - 高频强调滤波
      - $g(x,y)=\Im^{-1}((k_1+k_2*H_{HP}(u,v))F(u,v))\quad k_1\geq0\quad k_2\geq0$
    - 同态滤波
      - $H(u,v)=(\gamma_H-\gamma_L)(1-e^{c(D^2(u,v)/D_0^2)})+\gamma_L\quad \gamma_L<c=const<\gamma_H\mbox{控制函数坡度的锐利度}$
      - 照射分量-缓慢的空间变化（低频）；反射分量-突变（高频）

- **四、图像复原与重建**

  - 图像退化/复原过程的模型
    - 目的：获得原始图像的一个估计$\hat f(x,y)$
    - 退化模型：$G(u,v)=H(u,v)F(u,v)+N(u,v)$
    - 复原模型：$g(x,y)\rightarrow \hat f(x,y)$
  - 噪声模型
    - 各种噪声
      - 白噪声：傅里叶谱为常量
      - 高斯噪声  $p(z)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(z-\overline z)^2}{2\sigma^2}}$
      - 瑞利噪声
      - 爱尔兰（伽马）噪声  
      - 指数噪声  $p(z)=\begin{cases}ae^{-az},&z\geq0\\0&z<0\end{cases}​$  均值$\overline z=\frac{1}{a}​$ ，方差$\sigma^2=\frac{1}{a^2}​$
      - 均匀噪声  $p(z)=\begin{cases}\frac{1}{b-a},&a\leq z\leq b\\0,&\mbox{其他}\end{cases}$  均值$\overline z=\frac{a+b}{2}$ ，方差$\sigma^2=\frac{(b-a)^2}{12}$
      - 脉冲（椒盐）噪声  $p(z)=\begin{cases}P_a&z=a\\P_b&z=b\\1-P_a-P_b&\mbox{其他}\end{cases}$
    - 周期噪声---可以通过频率域滤波显著减少
    - 噪声参数的估计
  - 消除噪声---空间滤波 $\spadesuit$
    - 均值滤波器
      - 算术均值滤波器
      - 几何均值滤波器
      - 谐波均值滤波器
      - 逆谐波均值滤波器
    - 统计排序滤波器
      - 中值滤波器
      - 最值滤波器
      - 中点滤波器
      - 修正的阿尔法均值滤波器
    - 自适应滤波器
      - 自适应局部降低噪声滤波器
      - 自适应中值滤波器
  - 频率域消除周期噪声
  - 线性、位置不变的退化（前提假设） $\spadesuit$
    - 线性=加性+均匀性（齐次性+叠加性）
    - 位置不变：$H(f(x-\alpha,y-\beta))=g(x-\alpha,y-\beta)$  图像中任意一点的响应只取决于该点处的输入值，而与其位置无关
    - 许多类型的退化可以近似为线性、位置不变的过程
  - 估计退化函数
    - 观察法
      - 寻找一个有很强信号内容的区域（如高对比度区域）
      - 处理该区域得到尽可能不模糊的结果
      - 得到退化函数
    - 实验法
      - 与获取退化的图像的设备的相似的装置
      - 用一个亮点模拟冲激
      - 利用退化模型得到退化函数
    - 数学建模法 $\spadesuit$
      - 大气湍流模型 $H(u,v)=e^{-k(u^2+v^2)^{5/6}}$  具体使用时注意要进行平移使函数居中:$H(u,v)=e^{-k((u-M/2)^2+(v-N/2)^2)^{5/6}}$
      - 均匀线性运动模糊（从基本原理开始推导）
        - $g(x,y)=\int_0^Tf(x-x_0(t),y-y_0(t))dt$
        - $G(u,v)=F(x,y)\int_0^Te^{-j2\pi(ux_0(t)+vy_0(t))}dt=F(u,v)H(u,v)$ 
        - $H(u,v)=\frac{T}{\pi(ua+vb)}sin(\pi(ua+vb))e^{-j\pi(ua+vb)}$
  - 逆滤波 $\spadesuit$
    - $\hat F(u,v)=\frac{G(u,v)}{H(u,v)}=F(u,v)+\frac{N(u,v)}{H(u,v)}$
      - $N(u,v)$未知
      - 当退化函数趋近于0时，$N(u,v)/H(u,v)$将支配估计值---限制滤波频率使其接近原点
  - 最小均方误差滤波（维纳滤波） $\spadesuit$
    - $min\quad e^2=E((f-\hat f)^2)$
    - 非因果解的推导
      - 正交定理：$E(eg^*)=0$
      - 相关：$E(X(k)X^*(l))=r_X(k-l)$
      - 卷积与相关
      - $W(w_1,w_1)=\frac{H^*(w_1,w_1)}{||H(w_1,w_2)||^2+\frac{P_\eta(w_1,w_2)}{P_f(w_1,w_2)}}$
    - 推导2
      - $E((f-\hat f)(f-\hat f)^*)\Leftrightarrow E((F-\hat F)(F-\hat F)^*)=E((F-W(HF+V))(F-W(FF+V))^*)$
      - $\partial J/\partial W=0\Rightarrow W(w_1,w_2)=\frac{H^*(w_1,w_2)S_f(w_1,w_2)}{||H(w_1,w_2)||^2S_f(w_1,w_2)+S_\eta(w_1,w_2)}$
    - 最终形式为：$W(u,v)=\frac{1}{H(u,v)}\frac{|H(u,v)|^2}{|H(u,v)|^2+S_\eta(u,v)/S_f(u,v)}=\frac{1}{H(u,v)}\frac{|H(u,v)|^2}{|H(u,v)|^2+K}$
    - 缺点：未退化图像和噪声的功率谱必须是已知的，用$K$来估计并不总是一个合适的解
  - 约束最小二乘滤波 ：核心是解决$H$对噪声的敏感性问题---以平滑度量的最佳复原 $\spadesuit$
    - $min\quad C=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}(\nabla^2f(x,y))^2\qquad s.t.||g-H\hat f||^2=||\eta||^2$
    - 求解
      - 帕斯瓦定理：$\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}|f(x,y)|^2=\frac{1}{MN}\sum_{u=0}^{M-1}\sum_{v=0}^{N-1}|F(u,v)|^2$
      - 拉格朗日乘子法
      - $\hat F(u,v)=\frac {H^*(u,v)}{|H(u,v)|^2+\gamma |P(u,v)|^2}G(u,v)$
      - 其中：$P(u,v)$是拉普拉斯算子（空间滤波器模板）的傅里叶变换（零填充以使大小一致）
    - 算法
      - $\gamma​$初始化
      - 计算$||r||^2=||g-H\hat f||^2$
      - 若$||\eta||^2-a\leq||r||^2\leq||\eta||^2+a$，则停止；若$||r||^2<||\eta||^2-a$则增大$\gamma$；若$||r||^2>||\eta||^2+a$则减小$\gamma$。回到上一步
    - $||\eta||^2=MN(\sigma^2+m_\eta^2)​$

- **五、图像压缩**

  - 基础知识
    - 相对数据冗余$R=1-1/C\qquad C=b/b'$
    - 三种主要冗余
      - 编码冗余
        - 表示每个像素所需的平均比特数$L_{avg}=\sum_{k=0}^{L-1}l(r_k)p_r(r_k)$
      - 空间冗余和时间冗余
      - 不相关信息
    - 图像信息的度量
      - 信源的熵$H=-\sum_{j=1}^JP(a_j)logP(a_j)$
      - 对于一图像，表示每个像素所需的平均比特数不少于$\hat H=-\sum_{k=0}^{L-1}P_r(r_k)log_2P_r(r_k)\quad\mbox{比特/像素}$
  - 一些基本的压缩方法
    - 霍夫曼编码
      - 步骤：
        - 对符号按概率排序，依次将具有最小概率的符号合并，生成一个简化信源序列
        - 编码
      - 瞬时的、唯一可解的块编码
      - 对于$J$个信源符号---$J$个符号概率，$J-2$次信源简化，$J-2$次编码赋值------默认的霍夫曼编码表
    - 算术编码
      - 步骤
      - 当被编码的序列的长度增加时，得到的算术编码接近山农第一定理所设定的界限，但由于消息结束指示符的必要性和算法的精度限制，这并不能达到

- **六、形态学图像处理**

  - 基础
    - 集合的反射$\hat A$与平移，补集$A^c$
    - 结构元，将结构元转换为矩形阵列
  - 腐蚀和膨胀
    - 腐蚀
      - $A\ominus B=\left\{z|(B)_z\subseteq A\right\}\qquad A\ominus B=\left\{z|(B)_z\cap A^c=\varnothing\right\}​$
      - 腐蚀的定义形式并不唯一
    - 膨胀
      - $A\oplus B=\left\{z|[(\hat B)_z\cap A]\subseteq A\right\}\qquad A\oplus B=\left\{z|(\hat B)_z\cap A\neq\varnothing\right\}$
      - 膨胀的定义形式并不唯一
    - 对偶性
      - $(A\ominus B)^c=A^c\oplus\hat B\qquad (A\oplus B)^c=A^c\ominus\hat B$
      - 在膨胀的定义中之所以有$B$的反射这一步，是为了在结构元$B$不关于原点对称的时候腐蚀和膨胀的方向一致
  - 开操作和闭操作
    - 开操作
      - $A\circ B=(A\ominus B)\oplus B$
      - 平滑物体的轮廓，断开较窄的细颈并消除细的突出物
      - $A\circ B$是$A$的一个子集；$C$是$D$的子集，那么$C\circ B$是$D\circ B$的子集；$(A\circ B)\circ B=A\circ B$
    - 闭操作
      - $A\bullet B=(A\oplus B)\ominus B$
      - 平滑物体的轮廓，弥合较窄的间断和细长的沟壑，消除小的孔洞，填补轮廓线中的断裂
      - $A$是$A\bullet B$一个子集；$C$是$D$的子集，那么$C\bullet B$是$D\bullet B$的子集；$(A\bullet B)\bullet B=A\bullet B$
    - 对偶性
      - $(A\bullet B)^c=(A^c\circ\hat B)\qquad(A\circ B)^c=(A^c\bullet\hat B)$
  - 击中或击不中变换
    - $A\circledast B=(A\ominus B_1)\cap (A^c\ominus B_2)\quad B_1=D,B_2=(W-D)$
    - 仅当两个或多个物体形成相脱离的集合时，它们才是可分的$\Rightarrow$通过要求每个物体至少被一个像素宽的背景所环绕（$B_2=W-D$）
  - 基本的形态学算法
    - 边界提取：$\beta(A)=A-(A\ominus B)$
    - 空洞填充：
      - 初始化$X_0$---假设已知一个点
      - $X_k=(X_{k-1}\oplus B)\cap A^c$
      - 若$X_k=X_{k-1}$，停止，$X_k\cup A$为最终结果
    - 连通分量提取
      - 初始化$X_0$---假设已知一个点
      - $X_k=(X_{k-1}\oplus B)\cap A$
      - 若$X_k=X_{k-1}$，停止，$X_k$包含输入图像中的所有连通分量
      - 所用的结构元决定了连通分量是基于8连通还是4连通的

- **七、图像分割**

  - 基础
    - 不连续性---基于边缘的分割
    - 相似性---基于区域的分割
  - 点、线、边缘检测
    - 基础
      - 一阶导数产生较粗的边缘
      - 二阶导数对精细细节，如细线、孤立点和噪声有较强的响应
      - 二阶导数在灰度斜坡和灰度台阶过渡处会产生双边缘响应
      - 二阶导数的符号可以确定边缘的过渡是从亮到暗（负）还是从暗到亮（正）
    - 孤立点的检测：拉普拉斯算子（空域模板）+ 阈值处理
    - 线检测
      - 拉普拉斯算子（空域模板）---各向同性
      - 专门模板---特定方向线的检测
    - 边缘检测
      - 边缘模型
        - 台阶模型，斜坡模型，屋顶边缘模型
        - 零交叉点：定位粗边缘的中心
        - 二阶导数对噪声很敏感---平滑处理
        - 步骤：
          - 平滑处理以降噪
          - 边缘点的检测：从一幅图像中提取所有点作为边缘点的候选者
          - 边缘定位：从上一步得到的点集合中选出真实的边缘点
      - 基本边缘检测技术
        - 梯度算子：Roberts, Sobel, Prewitt（一般形式，检测对角边缘的形式）
        - 与阈值处理结合
      - 更先进的边缘检测技术
        - Marr-Hildreth
          - 高斯低通滤波器（空域上卷积）滤波	$G(x,y)=e^{-\frac{x^2+y^2}{2\sigma^2}}$
          - 运用拉普拉斯算子
          - 找到零交叉（有阈值的零交叉）
        - 坎尼边缘检测器
          - 目标
            - 低错误率：所有边缘都应被找到，没有伪响应
            - 边缘点被很好的定位
            - 单一的边缘点响应：对于真实的边缘点，仅应返回一个点（边缘很细）
          - 步骤
            - 高斯滤波器（空域上卷积）平滑输入图像
              - 二维高斯可以把被分解为两个一维高斯的乘积，二维卷积就可以分解为两个一维卷积
            - 计算梯度幅值图像和角度图像
              - 利用梯度算子得到$g(x,y)$，$M(x,y)=\sqrt{g_x^2+g_y^2}\quad \alpha(x,y)=arctan(\frac{g_x}{g_y})$
            - 对梯度幅值图像应用最大值抑制
              - 寻找最接近$\alpha(x,y)$的方向$d_k$(事先确定的基本边缘方向)
              - 如果$M(x,y)$大于沿$d_k$的两个的邻居，则保留，否则抑制（取0）
            - 用双阈值处理和连接分析来检测并连接边缘
              - $g_{NH}(x,y)\mbox{与}g_{NL}(x,y)$
              - 连接分析：以$g_{NH}(x,y)$为基础，在$g_{NL}(x,y)$中选择边缘点
      - 边缘连接与边界检测
        - 使用霍夫变换的全局处理
          - $xy$平面到参数空间的变换
            - $x\cos\theta+y\sin\theta=\rho$
            - 累加单元：$\rho\theta​$平面上的点$A(i,j)​$的值代表$xy​$平面中位于直线$x\cos\theta_j+y\sin\theta_j=\rho_i​$上的非背景点（二值图像）的个数
            - 其他的函数变换如圆$(x-c_1)^2+(y-c_2)^2=c_3^2$
          - 基于霍夫变换的连接
            - 得到一幅二值图像
            - 指定$\rho\theta$平面中的细分
            - 检验感兴趣处的累加单元的数量
            - 若缝隙长度比阈值小，则连接起来
  - 全局阈值处理
    - 初始化全局阈值$T$
    - 根据$T$分割该图像得到$G_1$和$G_2$两个像素集合
    - 计算$G_1$和$G_2$的平均灰度值$m_1$和$m_2$
    - 得到新阈值$T=\frac{m_1+m_2}{2}$
    - 若更新前后的$T$的差值小于预定义的参数，停止迭代
  - 区域生长
    - 在$S(x,y)$中寻找所有连通分量并将之腐蚀成一个像素标记为1（种子点），其他像素标记为0
    - 形成图像$f_Q$：若输入图像的像素点满足给定属性$Q$，标记为1，否则标记为0
    - 将$f_Q$中所有8连通种子点的所有1值点添加到$S$中得到图像$g$
    - 标记出$g$中的不同连通分量

- **八、表示和描述**

  - 表示
    - 边界追踪
      - 假设：二值图像（目标为1，背景为0）；已使用0进行边界填充
      - 步骤
        - 以前景区域（为1）左上角的点为$b_0​$，$c_0​$为其左邻点（为0）
        - 从$c$开始绕$b$顺时针寻找到第一个标为1的点记为$n_k$，之前的一点$n_{k-1}$
        - $t=t+1\quad c_t=n_{k-1}\quad b_t=n_k$（存储$b_0,b_1$的位置）
        - 若$b_t=b_0$且$b_{t+1}=b_1$，停止（防止”毛刺“的干扰）
    - 链码
      - 重取样；编码（4方向链码，8方向链码）
      - 边界的链码取决于起始点---归一化
        - 起始点归一化：选择起始点使得号码序列取得最小值
        - 旋转归一化（与旋转无关）：使用链码的一次差分（逆时针方向计算间隔，如8链码：0-6=2）
  - 边界描绘子：描绘子应尽可能对平移、旋转和尺度变换不敏感，尽可能对起始点不敏感
    - 一些简单的描绘子
      - 直径$Diam(B)=\max\limits_{i,j}[D(p_i,p_j)]$
      - 偏心率：长轴与短轴之比
      - 曲率
    - 形状数
      - 定义为最小量级的一次差分
      - 由形状数的阶（形状数表示的数字的个数）确定形状数：
        - 找到基本矩形，划分网格
        - 得到链码（链码的方向与网格对齐）
        - 得到一次差分
        - 得到形状数
    - 傅里叶描绘子
      - 傅里叶描绘子$a(u)=\sum_{k=0}^{K-1}s(k)e^{-j2\pi uk/K}$	$s(k)=x(k)+jy(k)$
      - 仅使用前$P$个傅里叶系数$a(u)$表示边界，相当于低通滤波
      - 性质
        - 恒等 $s(k)\Rightarrow a(u)​$
        - 旋转 $s(k)e^{j\theta}\Rightarrow a(u)e^{j\theta}$
        - 平移 $s(k)+\Delta_{xy}\Rightarrow a(u)+\Delta_{xy}\delta(u)$
        - 缩放 $\alpha s(k)\Rightarrow \alpha a(u)$
        - 起始点 $s(k-k_0)\Rightarrow a(u)e^{-j2\pi k_0u/K}$
    - 统计矩
      - $\mu_n(v)=\sum_{i=0}^{A-1}(v_i-m)^np(v_i)\qquad m=\sum_{i=0}^{A-1}v_ip(v_i)$
      - 矩直接与边界的形状有关，如二阶矩度量曲线关于均值的扩展程度。三阶矩度量曲线关于均值的对称性
      - 通常仅使用前几个矩就可以区分明显不同形状的信号
      - 矩对旋转不敏感
  - 区域描绘子
    - 一些简单的描绘子
      - 面积+周长$\Rightarrow (周长)^2/面积$---致密性
      - 圆度率$R_c=\frac{4\pi A}{P^2}\quad A:面积，P:周长$ ：一个区域的面积与同周长的圆（最致密的形状）的面积之比
      - 灰度级的均值、中值、最值
    - 拓扑描绘子
      - 孔洞数
      - 连通分量的数量
      - $欧拉数=连通分量的数量-孔洞数$
    - 纹理：平滑度、粗糙度、规律性等特性的度量
      - 统计方法
        - 只考虑灰度的分布
          - 二阶矩的变形：$R(z)=1-\frac{1}{1+\sigma^2(z)}$(方差需要先归一化到[0,1]内)---描述相对平滑度
          - 三阶矩---直方图偏斜度
          - 四阶矩---相对平坦度
          - $U(z)=\sum_{i=0}^{L-1}p^2(z_i)$---一致性（所有灰度级都相等时最大）
          - $e(z)=-\sum_{i=0}^{L-1}p(z_i)log_2p(z_i)$---可变性（所有灰度级都相等时为0）
        - 考虑灰度的分布和像素的相对位置
          - $f$:输入灰度图像；$L$:最大灰度级数；$Q$:定义两个像素彼此相对位置的一个算子；$G$:（灰度级）共生矩阵
          - 为了减少计算负担，常将灰度量化为几段
          - 表征$G$的描绘子（$p_{ij}=g_{ij}/n$）
            - 最大概率
            - 相关
            - 对比度
            - 一致性
            - 同质性
            - 熵
      - 结构方法：图像像元的排列
      - 频谱方法：只需考虑半个频谱
        - 在二维傅里叶频谱图中得到$S(r,\theta)$，分别固定$\theta$和$r$，得到$S_\theta(r)$和$S_r(\theta)$，进一步积分得到$S(r)=\sum_{\theta=0}^\pi S_\theta(r)\quad S(\theta)=\sum_{r=0}^{R_0}S_r(\theta)$
        - 在计算出这些函数本身的描绘子
    - 不变矩
      - 二维$p+q​$阶矩$m_{pq}=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}x^py^qf(x,y)\quad p,q\geq 0​$
      - 二维$p+q$阶中心矩$\mu_{pq}=\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}(x-\overline x)^p(y-\overline y)^qf(x,y)\qquad \overline x=\frac{m_{10}}{m_{00}},\overline y=\frac{m_{01}}{m_{00}}\quad p,q\geq 0$
      - 归一化中心矩$\eta_{pq}=\frac{\mu_{pq}}{\mu_{00}^\gamma}\quad \gamma=\frac{p+q}{2}+1\quad p+q\geq 2$
      - 二阶矩和三阶矩推出7个不变矩组，对于平移、尺度变换、镜像（$\phi_7 会反号​$）、旋转不变